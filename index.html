<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Third Party License Notice</title>

    <script src="https://code.jquery.com/jquery-3.5.1.js">
    </script>

    <style>
        table {
            margin: 0 auto;
            width: 60%;
        }

        h1 {
            text-align: center;
        }

        tr:nth-child(even) {
            background-color: #eee;
        }

        tr:nth-child(odd) {
            background-color: #fff;
        }

        th,
        td {
            padding: 10px;
            text-align: center;
        }

        p {
            margin: 0 auto;
            padding: 0 30%;
            text-align: center;
        }
    </style>
</head>

<body>
<section>
    <h1>Third Party License Notice</h1>
    <p>The platform "GamifyIT - A Web-based Gaming Platform for Computer Science Education in the First Semesters" uses
        open source software (OSS). Insofar as the applicable license conditions provide for a publication obligation,
        the copyright notices and license texts for the OSS components used are listed below:</p>

    <div id="licenseNotes"></div>

    <script>
        $(document).ready(function () {
            $.getJSON("LicenseNotes.json",
                function (data) {
                    var licenseNote = '';

                    const licenseTypes = new Array();

                    $.each(data, function (key, value) {
                        licenseTypes.push(value.licTypeName);
                    });

                    for (var i = 0; i < licenseTypes.length; i++) {
                        if (!licenseNote.includes('<b><center><h3>' + licenseTypes[i] + '</h3></center></b>')) {
                            licenseNote += '<b><center><h3>' + licenseTypes[i] + '</h3></center></b>';
                            licenseNote += '<table id="table">' +
                                '        <tr>' +
                                '            <th style="min-width: 35%; max-width: 35%;">Component name</th>' +
                                '            <th style="min-width: 25%; max-width: 25%;">Version</th>' +
                                '            <th style="min-width: 40%; max-width: 40%;">Copyright</th>' +
                                '        </tr>';
                        }

                        $.each(data, function (key, value) {
                            if (licenseTypes[i] == value.licTypeName) {
                                var avoidDuplicatesString = "";
                                avoidDuplicatesString += '<tr>';
                                avoidDuplicatesString += '<td>' + value.compName + '</td>';
                                avoidDuplicatesString += '<td>' + value.compVersion + '</td>';
                                avoidDuplicatesString += '<td>' + value.copyright + '</td>';
                                avoidDuplicatesString += '</tr>';

                                if (!licenseNote.includes(avoidDuplicatesString)) {
                                    licenseNote += avoidDuplicatesString;
                                }
                            }
                        });

                        licenseNote += '</table>';
                    }

                    $('#licenseNotes').append(licenseNote);

                    sortTable(1);
                    sortTable(0);
                });
        });

        function sortTable(columnToSort) {
            var table, rows, switching, i, x, y, shouldSwitch;
            table = document.getElementById("table");
            switching = true;

            while (switching) {
                switching = false;
                rows = table.rows;

                for (i = 1; i < (rows.length - 1); i++) {
                    shouldSwitch = false;
                    x = rows[i].getElementsByTagName("TD")[columnToSort];
                    y = rows[i + 1].getElementsByTagName("TD")[columnToSort];

                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        shouldSwitch = true;
                        break;
                    }
                }
                if (shouldSwitch) {
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                }
            }
        }
    </script>
</section>
</body>

</html>